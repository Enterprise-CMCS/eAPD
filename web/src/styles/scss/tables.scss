table {
  border-collapse: collapse;
  border-spacing: 0;
  max-width: 100%;
  width: 100%;
}

th,
td {
  padding: 0.375rem 0.75rem;
  line-height: inherit;
}

th {
  text-align: left;
  font-weight: bold;
  vertical-align: bottom;
}

td {
  vertical-align: top;
}

.budget-table {
  font-size: 12px;
  input,
  .ds-c-field__before--currency {
    font-size: 12px;
  }
  &.budget-table--totals {
    width: 50%;
  }
  + .budget-table {
    margin-top: $spacer-2;
  }

  caption {
    text-align: left;
    /* override for design system where first-child has a top margin of 0 */
    &.ds-h3,
    &.ds-h4 {
      margin-top: $spacer-4 !important;
    }
  }

  th {
    font-weight: $font-semibold;
  }

  th,
  tr {
    &.budget-table--total,
    &.budget-table--subtotal,
    &.budget-table--sum {
      font-weight: $font-bold;
      th,
      td {
        font-weight: $font-bold;
      }
    }
  }

  tr.budget-table--row__header {
    th,
    td {
      background-color: $color-gray-lighter;
    }
  }

  thead {
    tr + tr {
      border-top: 1px solid $color-gray-light;
    }
    th,
    td.th {
      background-color: $color-gray-lighter;
      white-space: pre-line;
      /* used for highlights in a column */
      &.budget-table--col__highlight {
        background-color: $color-warn-lightest;
      }
    }
    border-top: 1px solid $color-gray-light;
    border-bottom: 1px solid $color-gray-light;
  }

  tbody {
    th {
      border-right: solid 2px $color-gray-lighter;
    }
    tr {
      border-top: 1px dotted $color-gray-lighter;
      border-bottom: 1px dotted $color-gray-lighter;
      &:first-child {
        border-top: none;
      }
      th,
      td {
        vertical-align: middle; /* Ace.css override */

        /* used for highlights in a column */
        &.budget-table--col__highlight {
          background-color: $color-warn-lightest;
        }
      }
    }
    /* used on a tr to highlight a whole row */
    .budget-table--row__highlight {
      td,
      th {
        background-color: $color-warn-lightest;
      }
    }
    /* used on a tr to highlight a whole row */
    .summary-table--gray_row__highlight {
      td,
      th {
        background-color: $color-gray-lightest;
      }
    }
  }
}

.budget-table.activity-budget-table {
  td {
    width: 1%;
    white-space: nowrap;

    &.title {
      padding-left: 3em;
      width: 100%;
      white-space: normal;
    }
  }
}

.budget-table--cell__nowrap {
  white-space: nowrap;
}

.budget-table--input__number-error {
  border: 3px solid #e31c3d;
  border-radius: 5px;
}

/* override our default rule that causes tables to be 100% of parent container */
.table-fit-contents {
  width: auto;
}
/* use on tables in sections where some tables are small, but some aren't so we can standardize width */
.budget-table--col-header__fixed-width {
  width: 175px;
}

tr.budget-table--row__primary-header {
  th,
  td {
    color: $color-white;
    background-color: $color-gray-dark;
    white-space: nowrap;
  }
}

tr.budget-table--row__primary-header {
  th {
    border-right: none;
  }
}

.indent-title {
  padding-left: 3em;
}

/* Custom borders to support highlighted rows for validation */
.table-error-border-no-bottom {
  border-top: 2px solid $color-error !important;
  border-left: 2px solid $color-error;
  border-right: 2px solid $color-error;
}

.table-error-border-no-top {
  border-bottom: 2px solid $color-error !important;
  border-left: 2px solid $color-error;
  border-right: 2px solid $color-error;
}
